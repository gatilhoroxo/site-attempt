---
layout: default
---

{% include breadcrumb.html %}

<article class="pasta-content">
  {% if page.description %}
  <p class="pasta-description">{{ page.description }}</p>
  {% endif %}
  
  {{ content }}
  
  {% comment %}
  ========================================
  AUTO-GENERATED FOLDER LISTING
  ========================================
  Displays all subdirectories and files in the current directory
  {% endcomment %}
  
  {% assign current_dir = page.url | remove: '/index.html' | remove: '/index' | append: '/' %}
  {% assign current_depth = current_dir | split: '/' | size %}
  
  {% comment %}Filter pages that belong to this directory{% endcomment %}
  {% assign all_children = site.pages | where_exp: "item", "item.url contains current_dir" %}
  
  {% comment %}Separate folders from files{% endcomment %}
  {% assign folders = "" | split: "" %}
  {% assign files = "" | split: "" %}
  
  {% for item in all_children %}
    {% unless item.url == page.url %}
      {% comment %}Calculate depth of this item{% endcomment %}
      {% assign item_depth = item.url | split: '/' | size %}
      {% assign is_direct_child = false %}
      
      {% comment %}Check if it's a direct child (one level deeper){% endcomment %}
      {% if item.url contains current_dir %}
        {% assign relative_path = item.url | remove_first: current_dir %}
        {% assign slash_count = relative_path | split: '/' | size %}
        
        {% comment %}Direct child if: folder has 2 slashes (subdir/index) or file has 1 slash{% endcomment %}
        {% if slash_count <= 2 %}
          {% assign is_direct_child = true %}
        {% endif %}
      {% endif %}
      
      {% if is_direct_child %}
        {% comment %}Check if it's a folder (index page) or file{% endcomment %}
        {% if item.url contains '/index.html' or item.url contains '/index' or item.layout == 'pasta' %}
          {% assign folders = folders | push: item %}
        {% else %}
          {% comment %}Exclude files starting with underscore{% endcomment %}
          {% assign filename = item.path | split: '/' | last %}
          {% unless filename contains '_' %}
            {% assign files = files | push: item %}
          {% endunless %}
        {% endif %}
      {% endif %}
    {% endunless %}
  {% endfor %}
  
  {% comment %}Sort folders and files alphabetically by title or path{% endcomment %}
  {% assign folders = folders | sort: 'title' %}
  {% assign files = files | sort: 'title' %}
  
  {% comment %}Display folders and files section{% endcomment %}

  {% if folders.size > 0 %}
  <section class="pasta-listing">
      <h2>üìÅ T√≥picos de Conte√∫dos</h2>
            <ul class="pasta-list folders">
                {% for folder in folders %}
                <li class="pasta-item folder">
                    <a href="{{ folder.url | relative_url }}">
                    <span class="pasta-title">{{ folder.title | default: folder.name }}</span>
                    {% if folder.description %}
                    <span class="pasta-desc">{{ folder.description }}</span>
                    {% endif %}
                    </a>
                </li>
                {% endfor %}
            </ul>
  </section>
  {% endif %}
  {% if files.size > 0 %}
  <section class="pasta-listing">
      <h2>üìÅ Conte√∫dos</h2>
            <ul class="pasta-list files">
                {% for file in files %}
                <li class="pasta-item file">
                    <a href="{{ file.url | relative_url }}">
                    <span class="pasta-title">{{ file.title | default: file.name }}</span>
                    {% if file.description %}
                    <span class="pasta-desc">{{ file.description }}</span>
                    {% endif %}
                    </a>
                </li>
                {% endfor %}
            </ul>
  </section>
  {% endif %}
  
  {% comment %}Empty state{% endcomment %}
  {% if folders.size == 0 and files.size == 0 %}
  <div class="pasta-empty">
    <p>Esta pasta est√° vazia.</p>
  </div>
  {% endif %}
</article>

